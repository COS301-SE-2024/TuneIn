<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>tunein-backend documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>
          <script>
               // Blocking script to avoid flickering dark mode
               // Dark mode toggle button
               var useDark = window.matchMedia('(prefers-color-scheme: dark)');
               var darkModeState = useDark.matches;
               var $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               var $darkModeToggles = document.querySelectorAll('.dark-mode-switch');
               var darkModeStateLocal = localStorage.getItem('compodoc_darkmode-state');

               function checkToggle(check) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].checked = check;
                    }
               }

               function toggleDarkMode(state) {
                    if (window.localStorage) {
                         localStorage.setItem('compodoc_darkmode-state', state);
                    }

                    checkToggle(state);

                    const hasClass = document.body.classList.contains('dark');

                    if (state) {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.add('dark');
                         }
                         if (!hasClass) {
                              document.body.classList.add('dark');
                         }
                    } else {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.remove('dark');
                         }
                         if (hasClass) {
                              document.body.classList.remove('dark');
                         }
                    }
               }

               useDark.addEventListener('change', function (evt) {
                    toggleDarkMode(evt.matches);
               });
               if (darkModeStateLocal) {
                    darkModeState = darkModeStateLocal === 'true';
               }
               toggleDarkMode(darkModeState);
          </script>

        <div class="navbar navbar-default navbar-fixed-top d-md-none p-0">
               <div class="d-flex">
                    <a href="../" class="navbar-brand">tunein-backend documentation</a>
                    <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
               </div>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="d-none d-md-block menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">








<ol class="breadcrumb">
  <li class="breadcrumb-item">Injectables</li>
  <li class="breadcrumb-item" >UsersService</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" 
                class="nav-link"
                class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" 
                class="nav-link"
                
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/modules/users/users.service.ts</code>
        </p>





            <section data-compodoc="block-index">
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#acceptFriendRequest" >acceptFriendRequest</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#befriendUser" >befriendUser</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#blockUser" >blockUser</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#calculateActivity" >calculateActivity</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#calculateGenreSimilarity" >calculateGenreSimilarity</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#calculateMutualFriends" >calculateMutualFriends</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#calculatePopularity" >calculatePopularity</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#cancelFriendRequest" >cancelFriendRequest</a>
                            </li>
                            <li>
                                <a href="#create" >create</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#createRoom" >createRoom</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#deleteMessage" >deleteMessage</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#editMessage" >editMessage</a>
                            </li>
                            <li>
                                <a href="#findAll" >findAll</a>
                            </li>
                            <li>
                                <a href="#findOne" >findOne</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#followUser" >followUser</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#generateChatHash" >generateChatHash</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getBlockedUsers" >getBlockedUsers</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getBookmarks" >getBookmarks</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getCurrentRoom" >getCurrentRoom</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getFollowers" >getFollowers</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getFollowing" >getFollowing</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getFriendRequests" >getFriendRequests</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getLastDMs" >getLastDMs</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getListeningStats" >getListeningStats</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getMessages" >getMessages</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getMessagesByUsername" >getMessagesByUsername</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getNewMessageCount" >getNewMessageCount</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getNewMessages" >getNewMessages</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getPendingRequests" >getPendingRequests</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getPotentialFriends" >getPotentialFriends</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getProfile" >getProfile</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getRecentRooms" >getRecentRooms</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getRecommendedRooms" >getRecommendedRooms</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getRecommendedUsers" >getRecommendedUsers</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getRoomsFromFollowing" >getRoomsFromFollowing</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getRoomsFromFriends" >getRoomsFromFriends</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getUnreadMessages" >getUnreadMessages</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getUserFriends" >getUserFriends</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getUserNewMessages" >getUserNewMessages</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getUserRooms" >getUserRooms</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getUsers" >getUsers</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#markMessagesAsRead" >markMessagesAsRead</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#rejectFriendRequest" >rejectFriendRequest</a>
                            </li>
                            <li>
                                <a href="#remove" >remove</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#reportUser" >reportUser</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#sendEmail" >sendEmail</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#sendMessage" >sendMessage</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#unblockUser" >unblockUser</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#unfollowUser" >unfollowUser</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#unfriendUser" >unfriendUser</a>
                            </li>
                            <li>
                                <a href="#update" >update</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Async</span>
                                <a href="#updateFavoriteGenresByName" >updateFavoriteGenresByName</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Async</span>
                                <a href="#updateFavoriteSongsByID" >updateFavoriteSongsByID</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#updateProfile" >updateProfile</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#usernameTaken" >usernameTaken</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

            <section data-compodoc="block-constructor">
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(prisma: <a href="../injectables/PrismaService.html" target="_self">PrismaService</a>, dbUtils: <a href="../injectables/DbUtilsService.html" target="_self">DbUtilsService</a>, dtogen: <a href="../injectables/DtoGenService.html" target="_self">DtoGenService</a>, recommender: <a href="../injectables/RecommendationsService.html" target="_self">RecommendationsService</a>, mailerService: MailerService)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="33" class="link-to-prism">src/modules/users/users.service.ts:33</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>prisma</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/PrismaService.html" target="_self" >PrismaService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>dbUtils</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/DbUtilsService.html" target="_self" >DbUtilsService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>dtogen</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/DtoGenService.html" target="_self" >DtoGenService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>recommender</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/RecommendationsService.html" target="_self" >RecommendationsService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>mailerService</td>
                                                  
                                                        <td>
                                                                    <code>MailerService</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section data-compodoc="block-methods">
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="acceptFriendRequest"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>acceptFriendRequest</b></span>
                        <a href="#acceptFriendRequest"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>acceptFriendRequest(userID: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, friendUsername: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1074"
                                    class="link-to-prism">src/modules/users/users.service.ts:1074</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userID</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>friendUsername</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;boolean&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="befriendUser"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>befriendUser</b></span>
                        <a href="#befriendUser"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>befriendUser(userID: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, newPotentialFriendUsername: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="938"
                                    class="link-to-prism">src/modules/users/users.service.ts:938</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userID</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>newPotentialFriendUsername</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;boolean&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="blockUser"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>blockUser</b></span>
                        <a href="#blockUser"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>blockUser(userID: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, usernameToBlock: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1647"
                                    class="link-to-prism">src/modules/users/users.service.ts:1647</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userID</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>usernameToBlock</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="calculateActivity"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>calculateActivity</b></span>
                        <a href="#calculateActivity"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>calculateActivity(user: PrismaTypes.users)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1890"
                                    class="link-to-prism">src/modules/users/users.service.ts:1890</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>user</td>
                                            <td>
                                                        <code>PrismaTypes.users</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;number&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="calculateGenreSimilarity"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>calculateGenreSimilarity</b></span>
                        <a href="#calculateGenreSimilarity"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>calculateGenreSimilarity(userID1: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, userID2: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1922"
                                    class="link-to-prism">src/modules/users/users.service.ts:1922</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userID1</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>userID2</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;number&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="calculateMutualFriends"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>calculateMutualFriends</b></span>
                        <a href="#calculateMutualFriends"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>calculateMutualFriends(userID1: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, userID2: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1859"
                                    class="link-to-prism">src/modules/users/users.service.ts:1859</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userID1</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>userID2</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;number&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="calculatePopularity"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>calculatePopularity</b></span>
                        <a href="#calculatePopularity"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>calculatePopularity(userID: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1872"
                                    class="link-to-prism">src/modules/users/users.service.ts:1872</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userID</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;number&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="cancelFriendRequest"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>cancelFriendRequest</b></span>
                        <a href="#cancelFriendRequest"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>cancelFriendRequest(userID: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, friendUsername: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1230"
                                    class="link-to-prism">src/modules/users/users.service.ts:1230</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userID</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>friendUsername</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;boolean&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="create"></a>
                    <span class="name">
                        <span ><b>create</b></span>
                        <a href="#create"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>create(createUserDto: <a href="../classes/UserDto.html" target="_self">Partial&lt;UserDto&gt;</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="83"
                                    class="link-to-prism">src/modules/users/users.service.ts:83</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>createUserDto</td>
                                            <td>
                                                            <code><a href="../classes/UserDto.html" target="_self" >Partial&lt;UserDto&gt;</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createRoom"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>createRoom</b></span>
                        <a href="#createRoom"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>createRoom(createRoomDto: <a href="../classes/CreateRoomDto.html" target="_self">CreateRoomDto</a>, userID: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="606"
                                    class="link-to-prism">src/modules/users/users.service.ts:606</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>createRoomDto</td>
                                            <td>
                                                            <code><a href="../classes/CreateRoomDto.html" target="_self" >CreateRoomDto</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>userID</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/RoomDto.html" target="_self" >Promise&lt;RoomDto&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="deleteMessage"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>deleteMessage</b></span>
                        <a href="#deleteMessage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>deleteMessage(message: <a href="../classes/DirectMessageDto.html" target="_self">DirectMessageDto</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1523"
                                    class="link-to-prism">src/modules/users/users.service.ts:1523</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>message</td>
                                            <td>
                                                            <code><a href="../classes/DirectMessageDto.html" target="_self" >DirectMessageDto</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;boolean&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="editMessage"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>editMessage</b></span>
                        <a href="#editMessage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>editMessage(message: <a href="../classes/DirectMessageDto.html" target="_self">DirectMessageDto</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1536"
                                    class="link-to-prism">src/modules/users/users.service.ts:1536</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>message</td>
                                            <td>
                                                            <code><a href="../classes/DirectMessageDto.html" target="_self" >DirectMessageDto</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/DirectMessageDto.html" target="_self" >Promise&lt;DirectMessageDto&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="findAll"></a>
                    <span class="name">
                        <span ><b>findAll</b></span>
                        <a href="#findAll"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>findAll()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="106"
                                    class="link-to-prism">src/modules/users/users.service.ts:106</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="findOne"></a>
                    <span class="name">
                        <span ><b>findOne</b></span>
                        <a href="#findOne"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>findOne(userID: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="110"
                                    class="link-to-prism">src/modules/users/users.service.ts:110</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userID</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="followUser"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>followUser</b></span>
                        <a href="#followUser"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>followUser(selfID: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, usernameToFollow: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="409"
                                    class="link-to-prism">src/modules/users/users.service.ts:409</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>selfID</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>usernameToFollow</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;boolean&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateChatHash"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>generateChatHash</b></span>
                        <a href="#generateChatHash"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>generateChatHash(userID: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, recipientID: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1567"
                                    class="link-to-prism">src/modules/users/users.service.ts:1567</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userID</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>recipientID</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;string[]&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getBlockedUsers"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>getBlockedUsers</b></span>
                        <a href="#getBlockedUsers"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getBlockedUsers(userID: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1740"
                                    class="link-to-prism">src/modules/users/users.service.ts:1740</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userID</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/UserDto.html" target="_self" >Promise&lt;UserDto[]&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getBookmarks"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>getBookmarks</b></span>
                        <a href="#getBookmarks"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getBookmarks(username: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="915"
                                    class="link-to-prism">src/modules/users/users.service.ts:915</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>username</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/RoomDto.html" target="_self" >Promise&lt;RoomDto[]&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getCurrentRoom"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>getCurrentRoom</b></span>
                        <a href="#getCurrentRoom"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getCurrentRoom(username: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1281"
                                    class="link-to-prism">src/modules/users/users.service.ts:1281</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>username</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/RoomDto.html" target="_self" >Promise&lt;RoomDto | undefined&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getFollowers"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>getFollowers</b></span>
                        <a href="#getFollowers"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getFollowers(userID: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="865"
                                    class="link-to-prism">src/modules/users/users.service.ts:865</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userID</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/UserDto.html" target="_self" >Promise&lt;UserDto[]&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getFollowing"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>getFollowing</b></span>
                        <a href="#getFollowing"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getFollowing(userID: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="889"
                                    class="link-to-prism">src/modules/users/users.service.ts:889</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userID</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/UserDto.html" target="_self" >Promise&lt;UserDto[]&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getFriendRequests"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>getFriendRequests</b></span>
                        <a href="#getFriendRequests"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getFriendRequests(userID: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1186"
                                    class="link-to-prism">src/modules/users/users.service.ts:1186</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userID</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/UserDto.html" target="_self" >Promise&lt;UserDto[]&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getLastDMs"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>getLastDMs</b></span>
                        <a href="#getLastDMs"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getLastDMs(userID: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1579"
                                    class="link-to-prism">src/modules/users/users.service.ts:1579</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userID</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/DirectMessageDto.html" target="_self" >Promise&lt;DirectMessageDto[]&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getListeningStats"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>getListeningStats</b></span>
                        <a href="#getListeningStats"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getListeningStats(userID: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1769"
                                    class="link-to-prism">src/modules/users/users.service.ts:1769</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userID</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/UserListeningStatsDto.html" target="_self" >Promise&lt;UserListeningStatsDto&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getMessages"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>getMessages</b></span>
                        <a href="#getMessages"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getMessages(userID: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, recipientID: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1350"
                                    class="link-to-prism">src/modules/users/users.service.ts:1350</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userID</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>recipientID</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/DirectMessageDto.html" target="_self" >Promise&lt;DirectMessageDto[]&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getMessagesByUsername"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>getMessagesByUsername</b></span>
                        <a href="#getMessagesByUsername"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getMessagesByUsername(userID: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, recipientUsername: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1358"
                                    class="link-to-prism">src/modules/users/users.service.ts:1358</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userID</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>recipientUsername</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/DirectMessageDto.html" target="_self" >Promise&lt;DirectMessageDto[]&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getNewMessageCount"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>getNewMessageCount</b></span>
                        <a href="#getNewMessageCount"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getNewMessageCount(userID: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, min: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank">Date</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1396"
                                    class="link-to-prism">src/modules/users/users.service.ts:1396</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userID</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>min</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" >Date</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;number&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getNewMessages"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>getNewMessages</b></span>
                        <a href="#getNewMessages"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getNewMessages(userID: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1485"
                                    class="link-to-prism">src/modules/users/users.service.ts:1485</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userID</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/DirectMessageDto.html" target="_self" >Promise&lt;DirectMessageDto[]&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getPendingRequests"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>getPendingRequests</b></span>
                        <a href="#getPendingRequests"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getPendingRequests(userID: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1213"
                                    class="link-to-prism">src/modules/users/users.service.ts:1213</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userID</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/UserDto.html" target="_self" >Promise&lt;UserDto[]&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getPotentialFriends"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>getPotentialFriends</b></span>
                        <a href="#getPotentialFriends"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getPotentialFriends(userID: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1198"
                                    class="link-to-prism">src/modules/users/users.service.ts:1198</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userID</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/UserDto.html" target="_self" >Promise&lt;UserDto[]&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getProfile"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>getProfile</b></span>
                        <a href="#getProfile"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getProfile(username: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="384"
                                    class="link-to-prism">src/modules/users/users.service.ts:384</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>username</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/UserDto.html" target="_self" >Promise&lt;UserDto&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getRecentRooms"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>getRecentRooms</b></span>
                        <a href="#getRecentRooms"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getRecentRooms(username: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="723"
                                    class="link-to-prism">src/modules/users/users.service.ts:723</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>username</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/RoomDto.html" target="_self" >Promise&lt;RoomDto[]&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getRecommendedRooms"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>getRecommendedRooms</b></span>
                        <a href="#getRecommendedRooms"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getRecommendedRooms(userID: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="765"
                                    class="link-to-prism">src/modules/users/users.service.ts:765</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userID</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/RoomDto.html" target="_self" >Promise&lt;RoomDto[]&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getRecommendedUsers"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>getRecommendedUsers</b></span>
                        <a href="#getRecommendedUsers"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getRecommendedUsers(userID: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1784"
                                    class="link-to-prism">src/modules/users/users.service.ts:1784</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userID</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/UserDto.html" target="_self" >Promise&lt;UserDto[]&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getRoomsFromFollowing"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>getRoomsFromFollowing</b></span>
                        <a href="#getRoomsFromFollowing"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getRoomsFromFollowing(userID: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="560"
                                    class="link-to-prism">src/modules/users/users.service.ts:560</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userID</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/RoomDto.html" target="_self" >Promise&lt;RoomDto[]&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getRoomsFromFriends"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>getRoomsFromFriends</b></span>
                        <a href="#getRoomsFromFriends"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getRoomsFromFriends(userID: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="534"
                                    class="link-to-prism">src/modules/users/users.service.ts:534</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userID</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/RoomDto.html" target="_self" >Promise&lt;RoomDto[]&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getUnreadMessages"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>getUnreadMessages</b></span>
                        <a href="#getUnreadMessages"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getUnreadMessages(userID: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, recipientID: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1387"
                                    class="link-to-prism">src/modules/users/users.service.ts:1387</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userID</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>recipientID</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/DirectMessageDto.html" target="_self" >Promise&lt;DirectMessageDto[]&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getUserFriends"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>getUserFriends</b></span>
                        <a href="#getUserFriends"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getUserFriends(userID: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="836"
                                    class="link-to-prism">src/modules/users/users.service.ts:836</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userID</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/UserDto.html" target="_self" >Promise&lt;UserDto[]&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getUserNewMessages"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>getUserNewMessages</b></span>
                        <a href="#getUserNewMessages"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getUserNewMessages(userID: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, min: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank">Date</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1427"
                                    class="link-to-prism">src/modules/users/users.service.ts:1427</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userID</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>min</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" >Date</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/DirectMessageDto.html" target="_self" >Promise&lt;DirectMessageDto[]&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getUserRooms"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>getUserRooms</b></span>
                        <a href="#getUserRooms"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getUserRooms(userID: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="584"
                                    class="link-to-prism">src/modules/users/users.service.ts:584</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userID</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/RoomDto.html" target="_self" >Promise&lt;RoomDto[]&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getUsers"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>getUsers</b></span>
                        <a href="#getUsers"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getUsers(userIDs: string[])</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="138"
                                    class="link-to-prism">src/modules/users/users.service.ts:138</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userIDs</td>
                                            <td>
                                                        <code>string[]</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/UserDto.html" target="_self" >Promise&lt;UserDto[]&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="markMessagesAsRead"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>markMessagesAsRead</b></span>
                        <a href="#markMessagesAsRead"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>markMessagesAsRead(userID: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, messages: <a href="../classes/DirectMessageDto.html" target="_self">DirectMessageDto[]</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1491"
                                    class="link-to-prism">src/modules/users/users.service.ts:1491</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userID</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>messages</td>
                                            <td>
                                                            <code><a href="../classes/DirectMessageDto.html" target="_self" >DirectMessageDto[]</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;boolean&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="rejectFriendRequest"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>rejectFriendRequest</b></span>
                        <a href="#rejectFriendRequest"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>rejectFriendRequest(userID: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, rejectedUsername: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1131"
                                    class="link-to-prism">src/modules/users/users.service.ts:1131</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userID</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>rejectedUsername</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;boolean&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="remove"></a>
                    <span class="name">
                        <span ><b>remove</b></span>
                        <a href="#remove"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>remove(userID: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="132"
                                    class="link-to-prism">src/modules/users/users.service.ts:132</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userID</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="reportUser"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>reportUser</b></span>
                        <a href="#reportUser"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>reportUser(userID: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, usernameToReport: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1757"
                                    class="link-to-prism">src/modules/users/users.service.ts:1757</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userID</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>usernameToReport</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="sendEmail"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>sendEmail</b></span>
                        <a href="#sendEmail"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>sendEmail(userID: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, message: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="42"
                                    class="link-to-prism">src/modules/users/users.service.ts:42</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userID</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>message</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="sendMessage"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>sendMessage</b></span>
                        <a href="#sendMessage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>sendMessage(message: <a href="../classes/DirectMessageDto.html" target="_self">DirectMessageDto</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1317"
                                    class="link-to-prism">src/modules/users/users.service.ts:1317</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>message</td>
                                            <td>
                                                            <code><a href="../classes/DirectMessageDto.html" target="_self" >DirectMessageDto</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/DirectMessageDto.html" target="_self" >Promise&lt;DirectMessageDto&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="unblockUser"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>unblockUser</b></span>
                        <a href="#unblockUser"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>unblockUser(userID: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, usernameToUnblock: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1705"
                                    class="link-to-prism">src/modules/users/users.service.ts:1705</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userID</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>usernameToUnblock</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="unfollowUser"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>unfollowUser</b></span>
                        <a href="#unfollowUser"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>unfollowUser(selfID: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, usernameToUnfollow: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="466"
                                    class="link-to-prism">src/modules/users/users.service.ts:466</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>selfID</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>usernameToUnfollow</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;boolean&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="unfriendUser"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>unfriendUser</b></span>
                        <a href="#unfriendUser"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>unfriendUser(userID: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, friendUsername: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1018"
                                    class="link-to-prism">src/modules/users/users.service.ts:1018</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userID</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>friendUsername</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;boolean&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="update"></a>
                    <span class="name">
                        <span ><b>update</b></span>
                        <a href="#update"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>update(userID: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, updateUserDto: <a href="../classes/UpdateUserDto.html" target="_self">UpdateUserDto</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="116"
                                    class="link-to-prism">src/modules/users/users.service.ts:116</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userID</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>updateUserDto</td>
                                            <td>
                                                            <code><a href="../classes/UpdateUserDto.html" target="_self" >UpdateUserDto</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateFavoriteGenresByName"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Async</span>
                        <span ><b>updateFavoriteGenresByName</b></span>
                        <a href="#updateFavoriteGenresByName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>updateFavoriteGenresByName(userId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, newGenreNames: string[])</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="211"
                                    class="link-to-prism">src/modules/users/users.service.ts:211</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>newGenreNames</td>
                                            <td>
                                                        <code>string[]</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateFavoriteSongsByID"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Async</span>
                        <span ><b>updateFavoriteSongsByID</b></span>
                        <a href="#updateFavoriteSongsByID"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>updateFavoriteSongsByID(userId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, newSongs: <a href="../classes/SongInfoDto.html" target="_self">SongInfoDto[]</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="281"
                                    class="link-to-prism">src/modules/users/users.service.ts:281</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>newSongs</td>
                                            <td>
                                                            <code><a href="../classes/SongInfoDto.html" target="_self" >SongInfoDto[]</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateProfile"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>updateProfile</b></span>
                        <a href="#updateProfile"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>updateProfile(userId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, updateProfileDto: <a href="../classes/UpdateUserDto.html" target="_self">UpdateUserDto</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="153"
                                    class="link-to-prism">src/modules/users/users.service.ts:153</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>updateProfileDto</td>
                                            <td>
                                                            <code><a href="../classes/UpdateUserDto.html" target="_self" >UpdateUserDto</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/UserDto.html" target="_self" >Promise&lt;UserDto&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="usernameTaken"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>usernameTaken</b></span>
                        <a href="#usernameTaken"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>usernameTaken(username: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="143"
                                    class="link-to-prism">src/modules/users/users.service.ts:143</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>username</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;boolean&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>

    </div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { HttpException, HttpStatus, Injectable } from &quot;@nestjs/common&quot;;
import { PrismaService } from &quot;../../../prisma/prisma.service&quot;;
import * as PrismaTypes from &quot;@prisma/client&quot;;
import { Prisma } from &quot;@prisma/client&quot;;
import { UserDto } from &quot;./dto/user.dto&quot;;
import { CreateRoomDto } from &quot;../rooms/dto/createroomdto&quot;;
import { RoomDto } from &quot;../rooms/dto/room.dto&quot;;
import {
	DbUtilsService,
	FullyQualifiedRoom,
} from &quot;../db-utils/db-utils.service&quot;;
import { DtoGenService } from &quot;../dto-gen/dto-gen.service&quot;;
import { UpdateUserDto } from &quot;./dto/updateuser.dto&quot;;
import { DirectMessageDto } from &quot;./dto/dm.dto&quot;;
import { IsNumber } from &quot;class-validator&quot;;
import { ApiProperty } from &quot;@nestjs/swagger&quot;;
import { RecommendationsService } from &quot;../../recommendations/recommendations.service&quot;;
import { SongInfoDto } from &quot;../rooms/dto/songinfo.dto&quot;;
import { MailerService } from &quot;@nestjs-modules/mailer&quot;;

export class UserListeningStatsDto {
	@ApiProperty({
		description: &quot;The total number of songs listened to by the user&quot;,
		example: 100,
	})
	@IsNumber()
	totalListenedSongs: number;

	/* whatever else you want */
}

@Injectable()
export class UsersService {
	constructor(
		private readonly prisma: PrismaService,
		private readonly dbUtils: DbUtilsService,
		private readonly dtogen: DtoGenService,
		private recommender: RecommendationsService,
		private readonly mailerService: MailerService,
	) {}

	async sendEmail(userID: string, message: string): Promise&lt;void&gt; {
		// const mailerService &#x3D; new MailerService();
		const user &#x3D; await this.prisma.users.findUnique({
			where: { user_id: userID },
		});
		if (!user) {
			throw new HttpException(&quot;User not found&quot;, HttpStatus.NOT_FOUND);
		}
		const email &#x3D; user.email;
		console.log(
			&quot;Email: &quot;,
			email,
			&quot;Message: &quot;,
			message,
			&quot;Port: &quot;,
			process.env.EMAIL_PORT,
		);
		if (!email) {
			throw new HttpException(
				&quot;User does not have an email address&quot;,
				HttpStatus.BAD_REQUEST,
			);
		}
		try {
			await this.mailerService.sendMail({
				to: process.env.EMAIL_ADDRESS ?? &quot;&quot;,
				from: email,
				subject: &quot;TuneIn Feedback&quot;,
				text: message,
			});
		} catch (e) {
			console.error(e);
			throw new HttpException(
				&quot;Failed to send email&quot;,
				HttpStatus.INTERNAL_SERVER_ERROR,
			);
		}
		throw new HttpException(&quot;Email sent successfully&quot;, HttpStatus.OK);
	}

	// Tutorial CRUD operations
	create(createUserDto: Partial&lt;UserDto&gt;) {
		if (!createUserDto.username) {
			throw new HttpException(&quot;Username is required&quot;, HttpStatus.BAD_REQUEST);
		}
		if (!createUserDto.bio) {
			throw new HttpException(&quot;Bio is required&quot;, HttpStatus.BAD_REQUEST);
		}
		const user: Prisma.usersCreateInput &#x3D; {
			username: createUserDto.username,
			bio: createUserDto.bio,
		};
		if (createUserDto.userID) {
			user.user_id &#x3D; createUserDto.userID;
		}
		if (createUserDto.profile_picture_url) {
			user.profile_picture &#x3D; createUserDto.profile_picture_url;
		}
		if (createUserDto.profile_name) {
			user.full_name &#x3D; createUserDto.profile_name;
		}
		return this.prisma.users.create({ data: user });
	}

	findAll() {
		return this.prisma.users.findMany();
	}

	findOne(userID: string) {
		return this.prisma.users.findUnique({
			where: { user_id: userID },
		});
	}

	update(userID: string, updateUserDto: UpdateUserDto) {
		console.log(updateUserDto);
		const user: Prisma.usersUpdateInput &#x3D; {};
		if (updateUserDto.username) user.username &#x3D; updateUserDto.username;
		if (updateUserDto.bio) user.bio &#x3D; updateUserDto.bio;
		if (updateUserDto.profile_picture)
			user.profile_picture &#x3D; updateUserDto.profile_picture;
		if (updateUserDto.activity) user.activity &#x3D; updateUserDto.activity;
		if (updateUserDto.preferences) user.preferences &#x3D; updateUserDto.preferences;
		console.log(user);
		return this.prisma.users.update({
			where: { user_id: userID },
			data: user,
		});
	}

	remove(userID: string) {
		return this.prisma.users.delete({
			where: { user_id: userID },
		});
	}

	async getUsers(userIDs: string[]): Promise&lt;UserDto[]&gt; {
		const users: UserDto[] &#x3D; await this.dtogen.generateMultipleUserDto(userIDs);
		return users;
	}

	async usernameTaken(username: string): Promise&lt;boolean&gt; {
		const user: PrismaTypes.users | null &#x3D; await this.prisma.users.findFirst({
			where: { username: username },
		});
		if (user &#x3D;&#x3D;&#x3D; null) {
			throw new HttpException(&quot;Username available&quot;, HttpStatus.OK);
		}
		throw new HttpException(&quot;Username unavailable&quot;, HttpStatus.BAD_REQUEST);
	}

	async updateProfile(
		userId: string,
		updateProfileDto: UpdateUserDto,
	): Promise&lt;UserDto&gt; {
		const user &#x3D; await this.prisma.users.findUnique({
			where: { user_id: userId },
		});

		if (!user) {
			throw new Error(&quot;User not found&quot;);
		}

		const updatedUser: Prisma.usersUpdateInput &#x3D; {
			user_id: userId,
		};

		if (updateProfileDto.username) {
			updatedUser.username &#x3D; updateProfileDto.username;
		}

		if (updateProfileDto.bio || updateProfileDto.bio &#x3D;&#x3D;&#x3D; &quot;&quot;) {
			updatedUser.bio &#x3D; updateProfileDto.bio;
		}

		if (updateProfileDto.email) {
			updatedUser.email &#x3D; updateProfileDto.email;
		}

		if (updateProfileDto.profile_name) {
			updatedUser.full_name &#x3D; updateProfileDto.profile_name;
		}

		if (updateProfileDto.profile_picture_url) {
			updatedUser.profile_picture &#x3D; updateProfileDto.profile_picture_url;
		}

		if (updateProfileDto.links) {
			updatedUser.external_links &#x3D; updateProfileDto.links.data;
		}

		if (updateProfileDto.fav_genres) {
			const genres: string[] &#x3D; updateProfileDto.fav_genres.data;
			this.updateFavoriteGenresByName(userId, genres);
		}

		if (updateProfileDto.fav_songs) {
			this.updateFavoriteSongsByID(userId, updateProfileDto.fav_songs.data);
		}

		await this.prisma.users.update({
			where: { user_id: userId },
			data: updatedUser,
		});

		const [u]: UserDto[] &#x3D; await this.dtogen.generateMultipleUserDto([userId]);
		return u;
	}

	private async updateFavoriteGenresByName(
		userId: string,
		newGenreNames: string[],
	): Promise&lt;void&gt; {
		await this.prisma.$transaction(async (prisma) &#x3D;&gt; {
			// Step 1: Fetch current genres associated with the user
			const currentFavoriteGenres &#x3D; await prisma.favorite_genres.findMany({
				where: { user_id: userId },
				include: { genre: true }, // Include genre details in the result
			});

			const genreNameToIdMap &#x3D; new Map&lt;string, string&gt;(
				currentFavoriteGenres.map((fg) &#x3D;&gt; [
					fg.genre.genre as string,
					fg.genre.genre_id,
				]),
			);

			const currentGenreNames &#x3D; currentFavoriteGenres.map(
				(fg) &#x3D;&gt; fg.genre.genre,
			);

			// Step 2: Fetch genre IDs for the provided genre names
			const genres &#x3D; await prisma.genre.findMany({
				where: { genre: { in: newGenreNames } },
				select: { genre_id: true, genre: true },
			});

			const genreMap &#x3D; new Map(
				genres.map((genre) &#x3D;&gt; [genre.genre, genre.genre_id as string]),
			);

			// Step 3: Determine genres to add and remove
			const genresToAdd &#x3D; newGenreNames.filter(
				(name) &#x3D;&gt; !currentGenreNames.includes(name) &amp;&amp; genreMap.has(name),
			);
			const genresToAddIDs: string[] &#x3D; [];
			for (const name of genresToAdd) {
				const id &#x3D; genreMap.get(name);
				if (id) {
					genresToAddIDs.push(id);
				}
			}

			const genresToRemove &#x3D; currentGenreNames
				.filter((name): name is string &#x3D;&gt; name !&#x3D;&#x3D; null)
				.filter((name) &#x3D;&gt; !newGenreNames.includes(name));

			// Step 4: Delete removed genres
			await prisma.favorite_genres.deleteMany({
				where: {
					user_id: userId,
					genre_id: {
						in: genresToRemove
							.map((name) &#x3D;&gt; genreNameToIdMap.get(name))
							.filter((id) &#x3D;&gt; id !&#x3D;&#x3D; undefined) as string[],
					},
				},
			});

			// Step 5: Insert new genres
			await prisma.favorite_genres.createMany({
				data: genresToAddIDs.map((id) &#x3D;&gt; ({
					user_id: userId,
					genre_id: id,
				})),
			});
		});
	}

	private async updateFavoriteSongsByID(
		userId: string,
		newSongs: SongInfoDto[],
	): Promise&lt;void&gt; {
		await this.prisma.$transaction(async (prisma) &#x3D;&gt; {
			const newSongIds &#x3D; newSongs.map((song) &#x3D;&gt; song.spotify_id);
			// Step 1: Fetch current songs associated with the user
			const currentFavoriteSongs &#x3D; await prisma.favorite_songs.findMany({
				where: { user_id: userId },
				include: { song: true }, // Include song details in the result
			});

			const spotifyIdToSongIdMap &#x3D; new Map&lt;string, string&gt;(
				currentFavoriteSongs.map((fg) &#x3D;&gt; [
					fg.song.spotify_id as string,
					fg.song.song_id,
				]),
			);

			const currentSongSpotifyId &#x3D; currentFavoriteSongs.map(
				(fg) &#x3D;&gt; fg.song.spotify_id,
			);

			// Step 2: Fetch song IDs for the provided song spotify ids
			const songs &#x3D; await prisma.song.findMany({
				where: { spotify_id: { in: newSongIds } },
				select: { song_id: true, spotify_id: true },
			});

			const songMap &#x3D; new Map(
				songs.map((song) &#x3D;&gt; [song.spotify_id, song.song_id as string]),
			);

			const missingSongs &#x3D; newSongs.filter(
				(song) &#x3D;&gt; !songMap.has(song.spotify_id),
			);

			// Step 3: Insert missing songs into the database
			await prisma.song.createMany({
				data: missingSongs.map((song) &#x3D;&gt; ({
					name: song.title,
					duration: song.duration,
					artwork_url: song.cover ?? null,
					spotify_id: song.spotify_id,
					artists: song.artists,
					audio_features: {},
				})),
			});

			if (missingSongs.length &gt; 0) {
				// Re-fetch the newly added songs to update the songMap
				const newlyInsertedSongs &#x3D; await prisma.song.findMany({
					where: {
						spotify_id: { in: missingSongs.map((song) &#x3D;&gt; song.spotify_id) },
					},
					select: { song_id: true, spotify_id: true },
				});

				// Add newly inserted songs to the songMap
				newlyInsertedSongs.forEach((song) &#x3D;&gt; {
					songMap.set(song.spotify_id, song.song_id as string);
				});
			}

			// Step 3: Determine songs to add and remove
			const songsToAdd &#x3D; newSongIds.filter(
				(id) &#x3D;&gt; !currentSongSpotifyId.includes(id) &amp;&amp; songMap.has(id),
			);
			const songsToAddIDs: string[] &#x3D; [];
			for (const id of songsToAdd) {
				const songId &#x3D; songMap.get(id);
				if (songId) {
					songsToAddIDs.push(songId);
				}
			}
			console.log(&quot;Songs to add: &quot; + songsToAdd);

			const songsToRemove &#x3D; currentSongSpotifyId
				.filter((id): id is string &#x3D;&gt; id !&#x3D;&#x3D; null)
				.filter((id) &#x3D;&gt; !newSongIds.includes(id));

			// Step 4: Delete removed songs
			await prisma.favorite_songs.deleteMany({
				where: {
					user_id: userId,
					song_id: {
						in: songsToRemove
							.map((id) &#x3D;&gt; spotifyIdToSongIdMap.get(id))
							.filter((id) &#x3D;&gt; id !&#x3D;&#x3D; undefined) as string[],
					},
				},
			});

			// Step 5: Insert new songs
			await prisma.favorite_songs.createMany({
				data: songsToAddIDs.map((id) &#x3D;&gt; ({
					user_id: userId,
					song_id: id,
				})),
			});
		});
	}

	async getProfile(username: string): Promise&lt;UserDto&gt; {
		const userData &#x3D; await this.prisma.users.findFirst({
			where: { username: username },
		});

		if (!userData) {
			throw new HttpException(
				&quot;User with username: (&quot; + username + &quot;) does not exist&quot;,
				HttpStatus.NOT_FOUND,
			);
		} else {
			console.log(&quot;User data: &quot;, userData);
			const [user]: UserDto[] &#x3D; await this.dtogen.generateMultipleUserDto(
				[userData.user_id],
				undefined,
				true,
			);
			return user;
		}
	}

	/*
	follower: the person who does the following
	followee (leader): the person being followed
	*/
	async followUser(selfID: string, usernameToFollow: string): Promise&lt;boolean&gt; {
		if (!(await this.dbUtils.userExists(selfID))) {
			throw new HttpException(
				&quot;User with id: (&quot; + selfID + &quot;) does not exist&quot;,
				HttpStatus.NOT_FOUND,
			);
		}

		const followee &#x3D; await this.prisma.users.findFirst({
			where: { username: usernameToFollow },
		});
		if (!followee) {
			throw new HttpException(
				&quot;User (&quot; + usernameToFollow + &quot;) does not exist&quot;,
				HttpStatus.NOT_FOUND,
			);
		}

		if (selfID &#x3D;&#x3D;&#x3D; followee.user_id) {
			throw new HttpException(
				&quot;You cannot follow yourself&quot;,
				HttpStatus.BAD_REQUEST,
			);
		}

		if (await this.dbUtils.isFollowing(selfID, followee.user_id)) {
			return true;
		}

		if (await this.dbUtils.isFriendsOrPending(selfID, followee.user_id)) {
			throw new HttpException(
				&quot;Cannot follow user with id: (&quot; +
					followee.user_id +
					&quot;). User is a friend or has a pending request&quot;,
				HttpStatus.BAD_REQUEST,
			);
		}

		try {
			await this.prisma.follows.create({
				data: {
					follower: selfID,
					followee: followee.user_id,
				},
			});
			return true;
		} catch (e) {
			throw new Error(
				&quot;Failed to follow user with id: (&quot; + followee.user_id + &quot;)&quot;,
			);
		}
	}

	/*
	follower: the person who does the following
	followee (leader): the person being followed
	*/
	async unfollowUser(
		selfID: string,
		usernameToUnfollow: string,
	): Promise&lt;boolean&gt; {
		if (!(await this.dbUtils.userExists(selfID))) {
			throw new HttpException(
				&quot;User with id: (&quot; + selfID + &quot;) does not exist&quot;,
				HttpStatus.NOT_FOUND,
			);
		}

		const followee &#x3D; await this.prisma.users.findFirst({
			where: { username: usernameToUnfollow },
		});
		if (!followee) {
			throw new HttpException(
				&quot;User (&quot; + usernameToUnfollow + &quot;) does not exist&quot;,
				HttpStatus.NOT_FOUND,
			);
		}

		if (selfID &#x3D;&#x3D;&#x3D; followee.user_id) {
			throw new HttpException(
				&quot;You cannot unfollow yourself&quot;,
				HttpStatus.BAD_REQUEST,
			);
		}

		if (!(await this.dbUtils.isFollowing(selfID, followee.user_id))) {
			return true;
		}

		if (await this.dbUtils.isFriendsOrPending(selfID, followee.user_id)) {
			throw new HttpException(
				&quot;Cannot unfollow user with id: (&quot; +
					followee.user_id +
					&quot;). User is a friend or has a pending request&quot;,
				HttpStatus.BAD_REQUEST,
			);
		}

		try {
			//find the follow relationship and delete it
			const follow &#x3D; await this.prisma.follows.findFirst({
				where: {
					follower: selfID,
					followee: followee.user_id,
				},
			});
			if (!follow) {
				return true;
			}

			await this.prisma.follows.delete({
				where: {
					follows_id: follow.follows_id,
					follower: selfID,
					followee: followee.user_id,
				},
			});
			return true;
		} catch (e) {
			throw new Error(
				&quot;Failed to unfollow user with id: (&quot; + followee.user_id + &quot;)&quot;,
			);
		}
	}

	async getRoomsFromFriends(userID: string): Promise&lt;RoomDto[]&gt; {
		const friends &#x3D; await this.dbUtils.getUserFriends(userID);
		if (!friends) {
			throw new Error(&quot;User has no friends&quot;);
		}
		const friendIDs &#x3D; friends.map((friend) &#x3D;&gt; friend.user_id);
		const friendRooms: FullyQualifiedRoom[] &#x3D; await this.prisma.room.findMany({
			where: {
				room_creator: {
					in: friendIDs,
				},
			},
			include: {
				child_room_child_room_parent_room_idToroom: true,
				participate: true,
				private_room: true,
				public_room: true,
				scheduled_room: true,
			},
		});
		const rooms: RoomDto[] &#x3D; await this.dtogen.generateMultipleRoomDtoFromRoom(
			friendRooms,
		);
		return rooms;
	}

	async getRoomsFromFollowing(userID: string): Promise&lt;RoomDto[]&gt; {
		const following &#x3D; await this.dbUtils.getUserFollowing(userID);
		if (!following) {
			throw new Error(&quot;User is not following anyone&quot;);
		}
		const followingIDs &#x3D; following
			.map((follow) &#x3D;&gt; follow.user_id)
			.filter((id) &#x3D;&gt; id !&#x3D;&#x3D; userID);
		const followingRoomsIDs &#x3D; await this.prisma.room.findMany({
			where: {
				room_creator: {
					in: followingIDs,
				},
			},
			select: {
				room_id: true,
			},
		});
		const rooms: RoomDto[] &#x3D; await this.dtogen.generateMultipleRoomDto(
			followingRoomsIDs.map((room) &#x3D;&gt; room.room_id),
			userID,
		);
		return rooms;
	}
	async getUserRooms(userID: string): Promise&lt;RoomDto[]&gt; {
		const user &#x3D; await this.prisma.users.findUnique({
			where: { user_id: userID },
		});

		if (!user) {
			throw new Error(&quot;User does not exist&quot;);
		}

		const rooms &#x3D; await this.prisma.room.findMany({
			where: { room_creator: userID },
		});

		if (!rooms) {
			return [];
		}

		const ids: string[] &#x3D; rooms.map((room) &#x3D;&gt; room.room_id);
		const r &#x3D; await this.dtogen.generateMultipleRoomDto(ids, userID);
		return r;
	}

	async createRoom(
		createRoomDto: CreateRoomDto,
		userID: string,
	): Promise&lt;RoomDto&gt; {
		const newRoom: Prisma.roomCreateInput &#x3D; {
			name: createRoomDto.room_name || &quot;Untitled Room&quot;,

			//foreign key relation for &#x27;room_creator&#x27;
			users: {
				connect: {
					user_id: userID,
				},
			},
		};
		if (createRoomDto.description)
			newRoom.description &#x3D; createRoomDto.description;
		if (createRoomDto.is_temporary !&#x3D;&#x3D; undefined)
			newRoom.is_temporary &#x3D; createRoomDto.is_temporary;

		if (createRoomDto.language !&#x3D;&#x3D; undefined)
			newRoom.room_language &#x3D; createRoomDto.language;
		if (createRoomDto.has_explicit_content !&#x3D;&#x3D; undefined)
			newRoom.explicit &#x3D; createRoomDto.has_explicit_content;
		if (createRoomDto.has_nsfw_content !&#x3D;&#x3D; undefined)
			newRoom.nsfw &#x3D; createRoomDto.has_nsfw_content;
		if (createRoomDto.room_image !&#x3D;&#x3D; undefined)
			newRoom.playlist_photo &#x3D; createRoomDto.room_image;
		if (createRoomDto.room_size !&#x3D;&#x3D; undefined)
			newRoom.room_size &#x3D; createRoomDto.room_size;
		if (createRoomDto.tags !&#x3D;&#x3D; undefined) newRoom.tags &#x3D; createRoomDto.tags;

		/*
		if (createRoomDto.current_song)
			newRoom.current_song &#x3D; createRoomDto.current_song;
		*/

		const room: PrismaTypes.room | null &#x3D; await this.prisma.room.create({
			data: newRoom,
		});
		if (!room) {
			throw new Error(&quot;Something went wrong while creating the room&quot;);
		}
		const r: FullyQualifiedRoom &#x3D; {
			...room,
			child_room_child_room_parent_room_idToroom: [],
			participate: [],
			private_room: null,
			public_room: null,
			scheduled_room: null,
		};
		if (createRoomDto.is_private) {
			const privRoom: Prisma.private_roomCreateInput &#x3D; {
				room: {
					connect: {
						room_id: room.room_id,
					},
				},
			};
			const privRoomResult &#x3D; await this.prisma.private_room.create({
				data: privRoom,
			});
			if (!privRoomResult || privRoomResult &#x3D;&#x3D;&#x3D; null) {
				throw new Error(
					&quot;An unknown error occurred while creating private room. Received null.&quot;,
				);
			}
			r.private_room &#x3D; privRoomResult;
		} else {
			const pubRoom: Prisma.public_roomCreateInput &#x3D; {
				room: {
					connect: {
						room_id: room.room_id,
					},
				},
			};
			const pubRoomResult &#x3D; await this.prisma.public_room.create({
				data: pubRoom,
			});
			if (!pubRoomResult || pubRoomResult &#x3D;&#x3D;&#x3D; null) {
				throw new Error(
					&quot;An unknown error occurred while creating public room. Received null.&quot;,
				);
			}
			r.public_room &#x3D; pubRoomResult;
		}

		if (createRoomDto.is_scheduled) {
			const newScheduledRoom: Prisma.scheduled_roomCreateInput &#x3D; {
				start_date: createRoomDto.start_date ?? null,
				end_date: createRoomDto.end_date ?? null,
				room: {
					connect: {
						room_id: room.room_id,
					},
				},
			};

			const scheduledRoom &#x3D; await this.prisma.scheduled_room.create({
				data: newScheduledRoom,
			});
			if (!scheduledRoom || scheduledRoom &#x3D;&#x3D;&#x3D; null) {
				throw new Error(
					&quot;An unknown error occurred while creating scheduled room. Received null.&quot;,
				);
			}
			r.scheduled_room &#x3D; scheduledRoom;
		}

		const rooms &#x3D; await this.dtogen.generateMultipleRoomDtoFromRoom([r]);
		if (rooms.length &#x3D;&#x3D;&#x3D; 0) {
			throw new Error(
				&quot;An unknown error occurred while generating RoomDto for created room. Received empty array.&quot;,
			);
		}
		return rooms[0];
	}

	async getRecentRooms(username: string): Promise&lt;RoomDto[]&gt; {
		/*
		activity field in users table is modelled as:
		&quot;{&quot;recent_rooms&quot;: [&quot;0352e8b8-e987-4dc9-a379-dc68b541e24f&quot;, &quot;497d8138-13d2-49c9-808d-287b447448e8&quot;, &quot;376578dd-9ef6-41cb-a9f6-2ded47e22c84&quot;, &quot;62560ae5-9236-490c-8c75-c234678dc346&quot;]}&quot;
		*/
		// get the recent rooms from the user&#x27;s activity field
		const u: PrismaTypes.users | null &#x3D; await this.prisma.users.findFirst({
			where: { username: username },
		});

		if (u &#x3D;&#x3D;&#x3D; null) {
			throw new HttpException(&quot;User not found&quot;, HttpStatus.NOT_FOUND);
		}

		const recentRooms &#x3D; await this.prisma.user_activity.findMany({
			where: {
				user_id: u.user_id, // Filter by specific user ID
			},
			distinct: [&quot;room_id&quot;], // Ensure unique room IDs
			orderBy: {
				room_join_time: &quot;desc&quot;, // Sort by most recent join time
			},
			select: {
				room_id: true, // Only select the room ID
			},
		});

		const recent_rooms &#x3D;
			(await this.dtogen.generateMultipleRoomDto(
				recentRooms.map((room) &#x3D;&gt; room.room_id),
				u.user_id,
			)) || [];

		return recent_rooms;
		// } catch (e) {
		// 	throw new Error(
		// 		&quot;An unknown error occurred while parsing the &#x27;recent_rooms&#x27; field in &#x27;activity&#x27;. Expected string[], received &quot; +
		// 			typeof activity[&quot;recent_rooms&quot;],
		// 	);
		// }
	}

	async getRecommendedRooms(userID: string): Promise&lt;RoomDto[]&gt; {
		//TODO: implement recommendation algorithm
		// const recommender: RecommenderService &#x3D; new RecommenderService();
		const rooms: (PrismaTypes.room &amp; {
			songs: PrismaTypes.song[] | undefined;
		})[] &#x3D; (
			await this.prisma.room.findMany({
				where: {
					room_creator: {
						not: userID,
					},
				},
			})
		).map((room) &#x3D;&gt; ({
			...room,
			songs: undefined,
		}));

		const roomsWithSongs &#x3D; await Promise.all(
			rooms.map(
				async (
					room: PrismaTypes.room &amp; {
						songs: PrismaTypes.song[] | undefined;
					},
				) &#x3D;&gt; {
					const songs &#x3D; await this.dbUtils.getRoomSongs(room.room_id);
					room.songs &#x3D; songs;
					return room;
				},
			),
		);
		const roomSongs &#x3D; roomsWithSongs.reduce(
			(
				acc: Record&lt;string, any[]&gt;,
				room: PrismaTypes.room &amp; { songs: PrismaTypes.song[] | undefined },
			) &#x3D;&gt; {
				acc[room.room_id] &#x3D;
					room.songs?.map((song: PrismaTypes.song) &#x3D;&gt; song.audio_features) ??
					[];
				return acc;
			},
			{},
		);
		const favoriteSongs: PrismaTypes.song[] &#x3D;
			await this.dbUtils.getUserFavoriteSongs(userID);
		if (favoriteSongs.length &#x3D;&#x3D;&#x3D; 0) {
			// return random rooms if the user has no favorite songs
			const randomRooms &#x3D; roomsWithSongs.sort(() &#x3D;&gt; Math.random() - 0.5);
			const r: RoomDto[] &#x3D; await this.dtogen.generateMultipleRoomDto(
				randomRooms.map((room: PrismaTypes.room) &#x3D;&gt; room.room_id),
				userID,
			);
			return r &#x3D;&#x3D;&#x3D; null ? [] : r;
		}
		this.recommender.setMockSongs(
			favoriteSongs.map((song: PrismaTypes.song) &#x3D;&gt; song.audio_features),
		);
		this.recommender.setPlaylists(roomSongs);
		const recommendedRooms: { playlist: string; score: number }[] &#x3D;
			this.recommender.getTopPlaylists(5);
		if (recommendedRooms.length &#x3D;&#x3D;&#x3D; 0) {
			return [];
		}
		// console.log(&quot;recommendedRooms:&quot;, recommendedRooms);
		const ids: string[] &#x3D; recommendedRooms.map(
			(room: { playlist: string; score: number }) &#x3D;&gt; room.playlist,
		);
		const r: RoomDto[] &#x3D; await this.dtogen.generateMultipleRoomDto(ids, userID);
		return r;
	}

	async getUserFriends(userID: string): Promise&lt;UserDto[]&gt; {
		const f &#x3D; await this.prisma.friends.findMany({
			where: {
				AND: [
					{ OR: [{ friend1: userID }, { friend2: userID }] },
					{ is_pending: false },
				],
			},
		});
		if (!f) {
			return [];
		}
		const friends: PrismaTypes.friends[] &#x3D; f;
		const ids: string[] &#x3D; [];
		for (const friend of friends) {
			if (friend.friend1 &#x3D;&#x3D;&#x3D; userID) {
				ids.push(friend.friend2);
			} else {
				ids.push(friend.friend1);
			}
		}
		let r &#x3D; await this.dtogen.generateMultipleUserDto(ids);
		r &#x3D; r.map((user) &#x3D;&gt; {
			user.relationship &#x3D; &quot;friend&quot;;
			return user;
		});
		return r;
	}

	async getFollowers(userID: string): Promise&lt;UserDto[]&gt; {
		const f &#x3D; await this.dbUtils.getUserFollowers(userID);
		const followers: PrismaTypes.users[] &#x3D; f;
		const ids: string[] &#x3D; followers.map((follower) &#x3D;&gt; follower.user_id);
		let result &#x3D; await this.dtogen.generateMultipleUserDto(ids);
		if (!result) {
			throw new Error(
				&quot;An unknown error occurred while generating UserDto for followers. Received null.&quot;,
			);
		}

		result &#x3D; await Promise.all(
			result.map(async (user) &#x3D;&gt; {
				const relationship &#x3D; await this.dbUtils.getRelationshipStatus(
					userID,
					user.userID,
				);
				user.relationship &#x3D; relationship;
				return user;
			}),
		);
		return result;
	}

	async getFollowing(userID: string): Promise&lt;UserDto[]&gt; {
		const following &#x3D; await this.dbUtils.getUserFollowing(userID);
		if (following.length &#x3D;&#x3D;&#x3D; 0) {
			return [];
		}
		const followees: PrismaTypes.users[] &#x3D; following;
		const ids: string[] &#x3D; followees.map((followee) &#x3D;&gt; followee.user_id);
		let result &#x3D; await this.dtogen.generateMultipleUserDto(ids);
		if (!result) {
			throw new Error(
				&quot;An unknown error occurred while generating UserDto for following. Received null.&quot;,
			);
		}
		result &#x3D; await Promise.all(
			result.map(async (user) &#x3D;&gt; {
				const relationship &#x3D; await this.dbUtils.getRelationshipStatus(
					userID,
					user.userID,
				);
				user.relationship &#x3D; relationship;
				return user;
			}),
		);
		return result;
	}

	async getBookmarks(username: string): Promise&lt;RoomDto[]&gt; {
		const u: PrismaTypes.users | null &#x3D; await this.prisma.users.findFirst({
			where: { username: username },
		});
		if (u &#x3D;&#x3D;&#x3D; null) {
			throw new HttpException(
				&quot;User with username: (&quot; + username + &quot;) does not exist&quot;,
				HttpStatus.NOT_FOUND,
			);
		}
		const bookmarks: PrismaTypes.bookmark[] &#x3D;
			await this.prisma.bookmark.findMany({
				where: { user_id: u.user_id },
			});

		const roomIDs: string[] &#x3D; bookmarks.map((bookmark) &#x3D;&gt; bookmark.room_id);
		const rooms: RoomDto[] &#x3D; await this.dtogen.generateMultipleRoomDto(
			roomIDs,
			u.user_id,
		);
		return rooms;
	}

	async befriendUser(
		userID: string,
		newPotentialFriendUsername: string,
	): Promise&lt;boolean&gt; {
		//add friend request for the user
		console.log(
			&quot;user (&quot; +
				userID +
				&quot;) wants to befriend (@&quot; +
				newPotentialFriendUsername +
				&quot;)&quot;,
		);

		// check if user exists
		if (!(await this.dbUtils.userExists(userID))) {
			throw new HttpException(
				&quot;User (&quot; + userID + &quot;) does not exist&quot;,
				HttpStatus.NOT_FOUND,
			);
		}

		const potentialFriend &#x3D; await this.prisma.users.findFirst({
			where: { username: newPotentialFriendUsername },
		});
		if (!potentialFriend) {
			throw new Error(
				&quot;User (@&quot; + newPotentialFriendUsername + &quot;) does not exist&quot;,
			);
		}

		// check if user is trying to friend themselves
		if (userID &#x3D;&#x3D;&#x3D; potentialFriend.user_id) {
			throw new HttpException(
				&quot;You cannot friend yourself&quot;,
				HttpStatus.BAD_REQUEST,
			);
		}

		// check if they are already friends
		if (
			(await this.dbUtils.isFriendsOrPending(
				userID,
				potentialFriend.user_id,
				true,
			)) ||
			(await this.dbUtils.isFriendsOrPending(
				userID,
				potentialFriend.user_id,
				false,
			))
		) {
			throw new HttpException(
				&quot;User (&quot; +
					userID +
					&quot;) is already friends with (@&quot; +
					newPotentialFriendUsername +
					&quot;) or has a pending request&quot;,
				HttpStatus.BAD_REQUEST,
			);
		}

		if (!(await this.dbUtils.isMutualFollow(userID, potentialFriend.user_id))) {
			throw new HttpException(
				&quot;User (&quot; +
					userID +
					&quot;) cannot befriend (@&quot; +
					newPotentialFriendUsername +
					&quot;). Users must follow each other first.&quot;,
				HttpStatus.BAD_REQUEST,
			);
		}
		await this.prisma.friends.create({
			data: {
				friend1: userID,
				friend2: potentialFriend.user_id,
			},
		});
		return true;
	}

	async unfriendUser(userID: string, friendUsername: string): Promise&lt;boolean&gt; {
		//remove friend from the user&#x27;s friend list
		console.log(
			&quot;user (&quot; +
				userID +
				&quot;) is no longer friends with (@&quot; +
				friendUsername +
				&quot;)&quot;,
		);

		// check if user exists
		if (!(await this.dbUtils.userExists(userID))) {
			throw new HttpException(
				&quot;User (&quot; + userID + &quot;) does not exist&quot;,
				HttpStatus.NOT_FOUND,
			);
		}

		const friend &#x3D; await this.prisma.users.findFirst({
			where: { username: friendUsername },
		});
		if (!friend) {
			throw new Error(&quot;User (@&quot; + friendUsername + &quot;) does not exist&quot;);
		}

		// check if user is trying to unfriend themselves
		if (userID &#x3D;&#x3D;&#x3D; friend.user_id) {
			throw new HttpException(
				&quot;You cannot unfriend yourself&quot;,
				HttpStatus.BAD_REQUEST,
			);
		}

		//check if they are friends
		console.log(&quot;friend&quot;, friend);
		if (
			!(await this.dbUtils.isFriendsOrPending(userID, friend.user_id, false))
		) {
			throw new HttpException(
				&quot;User (&quot; + userID + &quot;) is not friends with (&quot; + friend.user_id + &quot;)&quot;,
				HttpStatus.BAD_REQUEST,
			);
		}

		//delete the friendship
		await this.prisma.friends.deleteMany({
			where: {
				OR: [
					{ friend1: userID, friend2: friend.user_id },
					{ friend1: friend.user_id, friend2: userID },
				],
			},
		});
		return true;
	}

	async acceptFriendRequest(
		userID: string,
		friendUsername: string,
	): Promise&lt;boolean&gt; {
		//accept friend request
		console.log(
			&quot;user (&quot; + userID + &quot;) accepted friend request from @&quot; + friendUsername,
		);

		// check if user exists
		if (!(await this.dbUtils.userExists(userID))) {
			throw new HttpException(
				&quot;User (&quot; + userID + &quot;) does not exist&quot;,
				HttpStatus.NOT_FOUND,
			);
		}

		const friend &#x3D; await this.prisma.users.findFirst({
			where: { username: friendUsername },
		});
		if (!friend) {
			throw new Error(&quot;User (@&quot; + friendUsername + &quot;) does not exist&quot;);
		}

		// check if user is trying to accept themselves
		if (userID &#x3D;&#x3D;&#x3D; friend.user_id) {
			throw new HttpException(
				&quot;You cannot accept yourself&quot;,
				HttpStatus.BAD_REQUEST,
			);
		}

		const result &#x3D; await this.prisma.friends.updateMany({
			where: {
				friend1: friend.user_id,
				friend2: userID,
				is_pending: true,
			},
			data: {
				is_pending: false,
				date_friended: new Date(),
			},
		});
		console.log(&quot;accepted friend request&quot;, result);
		if (result.count &#x3D;&#x3D;&#x3D; 0) {
			throw new HttpException(
				&quot;User (@&quot; +
					friendUsername +
					&quot;) has not sent a friend request to user (&quot; +
					userID +
					&quot;)&quot;,
				HttpStatus.BAD_REQUEST,
			);
		}
		return true;
	}

	async rejectFriendRequest(
		userID: string,
		rejectedUsername: string,
	): Promise&lt;boolean&gt; {
		//reject friend request
		console.log(
			&quot;user (&quot; + userID + &quot;) rejected friend request from @&quot; + rejectedUsername,
		);

		// check if user exists
		if (!(await this.dbUtils.userExists(userID))) {
			throw new HttpException(
				&quot;User (&quot; + userID + &quot;) does not exist&quot;,
				HttpStatus.NOT_FOUND,
			);
		}

		const friend &#x3D; await this.prisma.users.findFirst({
			where: { username: rejectedUsername },
		});
		if (!friend) {
			throw new HttpException(
				&quot;User (@&quot; + rejectedUsername + &quot;) does not exist&quot;,
				HttpStatus.NOT_FOUND,
			);
		}

		// check if user is trying to accept themselves
		if (userID &#x3D;&#x3D;&#x3D; friend.user_id) {
			throw new HttpException(
				&quot;You cannot reject yourself&quot;,
				HttpStatus.BAD_REQUEST,
			);
		}

		const rejectedRequest &#x3D; await this.prisma.friends.deleteMany({
			where: {
				friend1: friend.user_id,
				friend2: userID,
				is_pending: true,
			},
		});
		if (rejectedRequest.count &#x3D;&#x3D;&#x3D; 0) {
			throw new HttpException(
				&quot;User (@&quot; +
					rejectedUsername +
					&quot;) has not sent a friend request to user (&quot; +
					userID +
					&quot;)&quot;,
				HttpStatus.BAD_REQUEST,
			);
		}
		return true;
	}

	async getFriendRequests(userID: string): Promise&lt;UserDto[]&gt; {
		//get all friend requests for the user
		const friendRequests: PrismaTypes.friends[] &#x3D;
			await this.dbUtils.getFriendRequests(userID);
		if (friendRequests.length &#x3D;&#x3D;&#x3D; 0) {
			return [];
		}
		const ids: string[] &#x3D; friendRequests.map((friend) &#x3D;&gt; friend.friend1);
		const result &#x3D; await this.dtogen.generateMultipleUserDto(ids);
		return result;
	}

	async getPotentialFriends(userID: string): Promise&lt;UserDto[]&gt; {
		//get all potential friends for the user
		console.log(&quot;Getting potential friends for user &quot; + userID);
		const potentialFriends: PrismaTypes.users[] &#x3D;
			await this.dbUtils.getPotentialFriends(userID);
		if (potentialFriends.length &#x3D;&#x3D;&#x3D; 0) {
			return [];
		}
		const ids: string[] &#x3D; potentialFriends.map(
			(friend: PrismaTypes.users) &#x3D;&gt; friend.user_id,
		);
		const result: UserDto[] &#x3D; await this.dtogen.generateMultipleUserDto(ids);
		return result;
	}

	async getPendingRequests(userID: string): Promise&lt;UserDto[]&gt; {
		//get all pending friend requests for the user
		console.log(&quot;Getting pending friend requests for user &quot; + userID);
		const pendingRequests: PrismaTypes.friends[] &#x3D;
			await this.dbUtils.getPendingRequests(userID);
		const ids: string[] &#x3D; pendingRequests.map(
			(friend: PrismaTypes.friends) &#x3D;&gt; friend.friend2,
		);
		const result: UserDto[] &#x3D; await this.dtogen.generateMultipleUserDto(ids);
		if (!result) {
			throw new Error(
				&quot;An unknown error occurred while generating UserDto for pending requests. Received null.&quot;,
			);
		}
		return result;
	}

	async cancelFriendRequest(
		userID: string,
		friendUsername: string,
	): Promise&lt;boolean&gt; {
		//cancel friend request
		console.log(
			&quot;user (&quot; + userID + &quot;) cancelled friend request to @&quot; + friendUsername,
		);
		// check if users exist
		if (!(await this.dbUtils.userExists(userID))) {
			throw new HttpException(
				&quot;User (&quot; + userID + &quot;) does not exist&quot;,
				HttpStatus.NOT_FOUND,
			);
		}

		const friend: PrismaTypes.users | null &#x3D; await this.prisma.users.findFirst({
			where: { username: friendUsername },
		});
		if (!friend) {
			throw new HttpException(
				&quot;User (&quot; + friendUsername + &quot;) does not exist&quot;,
				HttpStatus.NOT_FOUND,
			);
		}
		if (userID &#x3D;&#x3D;&#x3D; friend.user_id) {
			throw new HttpException(
				&quot;You cannot cancel a friend request to yourself&quot;,
				HttpStatus.BAD_REQUEST,
			);
		}
		const cancelledRequest &#x3D; await this.prisma.friends.deleteMany({
			where: {
				friend1: userID,
				friend2: friend.user_id,
				is_pending: true,
			},
		});
		if (cancelledRequest.count &#x3D;&#x3D;&#x3D; 0) {
			throw new HttpException(
				&quot;User (&quot; +
					userID +
					&quot;) has not sent a friend request to user (&quot; +
					friendUsername +
					&quot;)&quot;,
				HttpStatus.BAD_REQUEST,
			);
		}
		return true;
	}

	async getCurrentRoom(username: string): Promise&lt;RoomDto | undefined&gt; {
		const user: PrismaTypes.users | null &#x3D; await this.prisma.users.findFirst({
			where: { username: username },
		});
		if (user &#x3D;&#x3D;&#x3D; null) {
			throw new HttpException(
				&#x60;User with username ${username} does not exist&#x60;,
				HttpStatus.NOT_FOUND,
			);
		}

		const room: FullyQualifiedRoom | null &#x3D; await this.prisma.room.findFirst({
			where: {
				participate: {
					some: {
						user_id: user.user_id,
					},
				},
			},
			include: {
				child_room_child_room_parent_room_idToroom: true,
				participate: true,
				private_room: true,
				public_room: true,
				scheduled_room: true,
			},
		});

		if (room &#x3D;&#x3D;&#x3D; null) {
			throw new HttpException(&quot;User is not in a room&quot;, HttpStatus.NOT_FOUND);
		}
		const [result]: RoomDto[] &#x3D;
			await this.dtogen.generateMultipleRoomDtoFromRoom([room]);
		return result;
	}

	async sendMessage(message: DirectMessageDto): Promise&lt;DirectMessageDto&gt; {
		//send message to user
		try {
			const newMessage &#x3D; await this.prisma.message.create({
				data: {
					contents: message.messageBody,
					date_sent: message.dateSent,
					sender: message.sender.userID,
				},
			});
			const m: PrismaTypes.private_message &#x3D;
				await this.prisma.private_message.create({
					data: {
						users: {
							connect: {
								user_id: message.recipient.userID,
							},
						},
						message: {
							connect: {
								message_id: newMessage.message_id,
							},
						},
					},
				});
			console.log(&quot;new DM: &quot;);
			console.log(m);
			return await this.dtogen.generateDirectMessageDto(m.p_message_id);
		} catch (e) {
			throw new Error(&quot;Failed to send message&quot;);
		}
	}

	async getMessages(
		userID: string,
		recipientID: string,
	): Promise&lt;DirectMessageDto[]&gt; {
		//get messages between two users
		return await this.dtogen.getChatAsDirectMessageDto(userID, recipientID);
	}

	async getMessagesByUsername(
		userID: string,
		recipientUsername: string,
	): Promise&lt;DirectMessageDto[]&gt; {
		//get messages between two users
		const users: PrismaTypes.users[] &#x3D; await this.prisma.users.findMany({
			where: {
				OR: [{ user_id: userID }, { username: recipientUsername }],
			},
		});
		if (users.find((user) &#x3D;&gt; user.user_id &#x3D;&#x3D;&#x3D; userID) &#x3D;&#x3D;&#x3D; undefined) {
			throw new HttpException(
				&#x60;User with ID: (${userID}) does not exist&#x60;,
				HttpStatus.NOT_FOUND,
			);
		}
		const recipient &#x3D; users.find((user) &#x3D;&gt; user.username &#x3D;&#x3D;&#x3D; recipientUsername);
		if (!recipient) {
			throw new HttpException(
				&#x60;User with username ${recipientUsername} does not exist&#x60;,
				HttpStatus.NOT_FOUND,
			);
		}
		return await this.dtogen.getChatAsDirectMessageDto(
			userID,
			recipient.user_id,
		);
	}

	async getUnreadMessages(
		userID: string,
		recipientID: string,
	): Promise&lt;DirectMessageDto[]&gt; {
		//get unread messages between two users
		return this.dtogen.getChatAsDirectMessageDto(userID, recipientID, true);
	}

	//count the number of chats with new messages
	async getNewMessageCount(userID: string, min: Date): Promise&lt;number&gt; {
		const dms: ({
			message: PrismaTypes.message;
		} &amp; PrismaTypes.private_message)[] &#x3D;
			await this.prisma.private_message.findMany({
				where: {
					recipient: userID,
					message: {
						date_sent: {
							gte: min,
						},
					},
				},
				include: {
					message: true,
				},
			});

		//count number of unique senders
		const senders: string[] &#x3D; [];
		for (let i &#x3D; 0; i &lt; dms.length; i++) {
			const dm &#x3D; dms[i];
			if (dm &amp;&amp; dm !&#x3D;&#x3D; null) {
				if (!senders.includes(dm.message.sender)) {
					senders.push(dm.message.sender);
				}
			}
		}
		return senders.length;
	}

	async getUserNewMessages(
		userID: string,
		min: Date,
	): Promise&lt;DirectMessageDto[]&gt; {
		const [self]: UserDto[] &#x3D; await this.dtogen.generateMultipleUserDto([
			userID,
		]);
		const dms: ({
			message: PrismaTypes.message;
		} &amp; PrismaTypes.private_message)[] &#x3D;
			await this.prisma.private_message.findMany({
				where: {
					recipient: userID,
					message: {
						date_sent: {
							gt: min,
						},
					},
				},
				include: {
					message: true,
				},
			});

		//sort messages by date
		dms.sort((a, b) &#x3D;&gt; {
			return a.message.date_sent.getTime() - b.message.date_sent.getTime();
		});

		const result: DirectMessageDto[] &#x3D; [];
		for (let i &#x3D; 0; i &lt; dms.length; i++) {
			const dm &#x3D; dms[i];
			if (dm &amp;&amp; dm !&#x3D;&#x3D; null) {
				const [sender]: UserDto[] &#x3D; await this.dtogen.generateMultipleUserDto([
					dm.message.sender,
				]);
				const index: number &#x3D; await this.dbUtils.getDMIndex(
					userID,
					dm.message.sender,
					dm.p_message_id,
				);
				const message: DirectMessageDto &#x3D; {
					index: index,
					messageBody: dm.message.contents,
					sender: sender,
					recipient: self,
					dateSent: dm.message.date_sent,
					dateRead: new Date(0),
					isRead: false,
					pID: dm.p_message_id,
					bodyIsRoomID: this.dtogen.messageBodyIsRoomID(dm.message.contents),
				};
				result.push(message);
			}
		}
		return result;
	}

	async getNewMessages(userID: string): Promise&lt;DirectMessageDto[]&gt; {
		//get new messages for the user
		const lastRead: Date &#x3D; new Date(0);
		return await this.getUserNewMessages(userID, lastRead);
	}

	async markMessagesAsRead(
		userID: string,
		messages: DirectMessageDto[],
	): Promise&lt;boolean&gt; {
		//mark multiple messages as read
		try {
			console.log(
				&#x60;Marking ${messages.length} messages as read for user &#x60; + userID,
			);

			/*
			await this.prisma.private_message.updateMany({
				where: {
					recipient: userID,
					message: {
						message_id: {
							in: messages.map((m) &#x3D;&gt; m.pID),
						},
					},
				},
				data: {
					is_read: true,
				},
			});
			*/
			return true;
		} catch (e) {
			console.error(e);
			throw e;
		}
	}

	async deleteMessage(message: DirectMessageDto): Promise&lt;boolean&gt; {
		//delete a message
		try {
			await this.prisma.message.delete({
				where: { message_id: message.pID },
			});
			return true;
		} catch (e) {
			console.error(e);
			throw e;
		}
	}

	async editMessage(message: DirectMessageDto): Promise&lt;DirectMessageDto&gt; {
		//edit a message
		try {
			const updatedMessage:
				| {
						message: PrismaTypes.message;
				  } &amp; PrismaTypes.private_message &#x3D;
				await this.prisma.private_message.update({
					where: {
						p_message_id: message.pID,
					},
					data: {
						message: {
							update: {
								contents: message.messageBody,
							},
						},
					},
					include: {
						message: true,
					},
				});
			return await this.dtogen.generateDirectMessageDto(
				updatedMessage.p_message_id,
			);
		} catch (e) {
			console.error(e);
			throw e;
		}
	}

	async generateChatHash(
		userID: string,
		recipientID: string,
	): Promise&lt;string[]&gt; {
		//generate a unique chat hash
		const chatStr1 &#x3D; userID + recipientID;
		const chatStr2 &#x3D; recipientID + userID;
		const a &#x3D; this.dbUtils.generateHash(chatStr1);
		const b &#x3D; this.dbUtils.generateHash(chatStr2);
		return Promise.all([a, b]);
	}

	async getLastDMs(userID: string): Promise&lt;DirectMessageDto[]&gt; {
		//get the last few messages for the user
		const dms: ({
			message: PrismaTypes.message;
		} &amp; PrismaTypes.private_message)[] &#x3D;
			await this.prisma.private_message.findMany({
				where: {
					OR: [
						{
							recipient: userID,
						},
						{
							message: {
								sender: userID,
							},
						},
					],
				},
				include: {
					message: true,
				},
			});

		const uniqueUserIDs: Map&lt;string, boolean&gt; &#x3D; new Map&lt;string, boolean&gt;();
		for (let i &#x3D; 0; i &lt; dms.length; i++) {
			const dm &#x3D; dms[i];
			if (dm) {
				if (dm.message.sender !&#x3D;&#x3D; userID) {
					if (!uniqueUserIDs.has(dm.message.sender)) {
						uniqueUserIDs.set(dm.message.sender, false);
					}
				} else if (dm.recipient !&#x3D;&#x3D; userID) {
					if (!uniqueUserIDs.has(dm.recipient)) {
						uniqueUserIDs.set(dm.recipient, false);
					}
				}
			}
		}

		//sort messages by date (newest first)
		dms.sort((a, b) &#x3D;&gt; {
			return b.message.date_sent.getTime() - a.message.date_sent.getTime();
		});

		const chats: ({
			message: PrismaTypes.message;
		} &amp; PrismaTypes.private_message)[] &#x3D; [];
		for (let i &#x3D; 0; i &lt; dms.length; i++) {
			const dm &#x3D; dms[i];
			if (dm) {
				const recipient: string &#x3D; dm.recipient;
				const sender: string &#x3D; dm.message.sender;
				const r &#x3D; uniqueUserIDs.get(recipient);
				const s &#x3D; uniqueUserIDs.get(sender);
				if (r !&#x3D;&#x3D; undefined &amp;&amp; r &#x3D;&#x3D;&#x3D; false) {
					uniqueUserIDs.set(recipient, true);
					chats.push(dm);
				} else if (s !&#x3D;&#x3D; undefined &amp;&amp; s &#x3D;&#x3D;&#x3D; false) {
					uniqueUserIDs.set(sender, true);
					chats.push(dm);
				}
			}
		}
		const result: DirectMessageDto[] &#x3D;
			await this.dtogen.generateMultipleDirectMessageDto(chats);
		return result;
	}

	async blockUser(userID: string, usernameToBlock: string): Promise&lt;void&gt; {
		console.log(
			&quot;Blocking user with id: &quot; + userID + &quot; is blocking &quot; + usernameToBlock,
		);
		const user &#x3D; await this.prisma.users.findFirst({
			where: { username: usernameToBlock },
		});
		if (!user) {
			//if user does not exist
			throw new HttpException(&quot;User doesn&#x27;t exist&quot;, HttpStatus.NOT_FOUND);
		}
		// check if users is already blocked
		const isBlocked &#x3D; await this.prisma.blocked.findFirst({
			where: {
				blocker: userID,
				blockee: user.user_id,
			},
		});
		console.log(&quot;isBlocked: &quot;, isBlocked);
		if (isBlocked) {
			throw new HttpException(
				&quot;User is already blocked&quot;,
				HttpStatus.BAD_REQUEST,
			);
		}
		const result &#x3D; await this.prisma.blocked.create({
			data: {
				blocker: userID,
				blockee: user.user_id,
				date_blocked: new Date(),
			},
		});
		if (!result) {
			throw new Error(&quot;Failed to block user&quot;);
		}
		// unfriend and unfollow user
		try {
			await this.prisma.friends.deleteMany({
				where: {
					OR: [
						{ friend1: userID, friend2: user.user_id },
						{ friend1: user.user_id, friend2: userID },
					],
				},
			});
			await this.prisma.follows.deleteMany({
				where: {
					OR: [
						{ follower: userID, followee: user.user_id },
						{ follower: user.user_id, followee: userID },
					],
				},
			});
		} catch (e) {
			console.log(e);
		}
	}

	async unblockUser(userID: string, usernameToUnblock: string): Promise&lt;void&gt; {
		console.log(
			&quot;Unblocking user with id: &quot; +
				userID +
				&quot; is unblocking &quot; +
				usernameToUnblock,
		);
		const user &#x3D; await this.prisma.users.findFirst({
			where: { username: usernameToUnblock },
		});
		if (!user) {
			//if user does not exist
			throw new HttpException(&quot;User doesn&#x27;t exist&quot;, HttpStatus.NOT_FOUND);
		}
		// check if users is already blocked
		const isBlocked &#x3D; await this.prisma.blocked.findFirst({
			where: {
				blocker: userID,
				blockee: user.user_id,
			},
		});
		if (!isBlocked) {
			throw new HttpException(&quot;User is not blocked&quot;, HttpStatus.BAD_REQUEST);
		}
		const result &#x3D; await this.prisma.blocked.deleteMany({
			where: {
				blocker: userID,
				blockee: user.user_id,
			},
		});
		if (!result) {
			throw new Error(&quot;Failed to unblock user&quot;);
		}
	}

	async getBlockedUsers(userID: string): Promise&lt;UserDto[]&gt; {
		console.log(&quot;Getting blocked users for user &quot; + userID);
		const blockedUsers: PrismaTypes.blocked[] &#x3D;
			await this.prisma.blocked.findMany({
				where: { blocker: userID },
			});
		const ids: string[] &#x3D; blockedUsers.map((blocked) &#x3D;&gt; blocked.blockee);
		const result: UserDto[] &#x3D; await this.dtogen.generateMultipleUserDto(
			ids,
			undefined,
		);
		for (const user of result) {
			user.relationship &#x3D; &quot;blocked&quot;;
		}
		return result;
	}

	async reportUser(userID: string, usernameToReport: string): Promise&lt;void&gt; {
		console.log(
			&quot;Reporting user with id: &quot; + userID + &quot; is reporting &quot; + usernameToReport,
		);
		if (true) {
			//if user does not exist
			throw new HttpException(&quot;User does not exist&quot;, HttpStatus.NOT_FOUND);
		}

		//if user has been reported 5x, delete their account
	}

	async getListeningStats(userID: string): Promise&lt;UserListeningStatsDto&gt; {
		const user &#x3D; await this.prisma.users.findUnique({
			where: { user_id: userID },
		});

		if (!user) {
			throw new Error(&quot;User does not exist&quot;);
		}

		const stats: UserListeningStatsDto &#x3D; {
			totalListenedSongs: 0,
		};
		return stats;
	}

	async getRecommendedUsers(userID: string): Promise&lt;UserDto[]&gt; {
		let users: PrismaTypes.users[] &#x3D; await this.prisma.users.findMany();
		const currentUser: PrismaTypes.users | null &#x3D;
			await this.prisma.users.findUnique({
				where: { user_id: userID },
			});

		if (!currentUser) {
			throw new Error(&quot;User does not exist&quot;);
		}

		const userFriends: PrismaTypes.users[] &#x3D;
			await this.dbUtils.getUserFollowing(userID);
		const friendIDs: string[] &#x3D; userFriends.map(
			(user: PrismaTypes.users) &#x3D;&gt; user.user_id,
		);
		users &#x3D; users.filter(
			(user: PrismaTypes.users) &#x3D;&gt; !friendIDs.includes(user.user_id),
		);

		const userScores: { [key: string]: number } &#x3D; {};

		for (const user of users) {
			if (user.user_id &#x3D;&#x3D;&#x3D; userID) continue;
			let start: number &#x3D; new Date().getTime();
			let end: number;
			const mutualFriends &#x3D; await this.calculateMutualFriends(
				userID,
				user.user_id,
			);
			end &#x3D; new Date().getTime();
			console.log(&quot;Time taken to calculate mutual friends: &quot; + (end - start));
			start &#x3D; new Date().getTime();
			const popularity &#x3D; await this.calculatePopularity(user.user_id);
			end &#x3D; new Date().getTime();
			console.log(&quot;Time taken to calculate popularity: &quot; + (end - start));
			start &#x3D; new Date().getTime();
			const activity &#x3D; await this.calculateActivity(user);
			end &#x3D; new Date().getTime();
			console.log(&quot;Time taken to calculate activity: &quot; + (end - start));
			start &#x3D; new Date().getTime();
			const genreSimilarity &#x3D; await this.calculateGenreSimilarity(
				currentUser.user_id,
				user.user_id,
			);
			end &#x3D; new Date().getTime();
			console.log(&quot;Time taken to calculate genre similarity: &quot; + (end - start));
			const score &#x3D;
				mutualFriends * 0.4 +
				popularity * 0.3 +
				activity * 0.2 +
				genreSimilarity * 0.1;
			userScores[user.user_id] &#x3D; score;
			console.log(
				&quot;------Score for user &quot; + user.username + &quot;: &quot; + score + &quot;\n&quot;,
			);
		}

		// filter undefined scores
		const sortedUserIds &#x3D; Object.keys(userScores).sort(
			(a, b) &#x3D;&gt; (userScores[b] ?? 0) - (userScores[a] ?? 0),
		);
		const topUserIds: string[] &#x3D; sortedUserIds.slice(0, 5); // Top 10 recommendations

		const result: UserDto[] &#x3D; await this.dtogen.generateMultipleUserDto(
			topUserIds,
		);
		if (!result) {
			throw new Error(
				&quot;An unknown error occurred while generating UserDto for recommended users. Received null.&quot;,
			);
		}
		return result;
	}

	async calculateMutualFriends(
		userID1: string,
		userID2: string,
	): Promise&lt;number&gt; {
		const mutualFriends: PrismaTypes.users[] &#x3D;
			await this.dbUtils.getMutualFriends(userID1, userID2);
		console.log(
			&quot;Mutual friends between &quot; + userID1 + &quot; and &quot; + userID2 + &quot;: &quot;,
			mutualFriends.length,
		);
		return mutualFriends.length;
	}

	async calculatePopularity(userID: string): Promise&lt;number&gt; {
		const followers: PrismaTypes.users[] &#x3D; await this.dbUtils.getUserFollowers(
			userID,
		);
		const following: PrismaTypes.users[] &#x3D; await this.dbUtils.getUserFollowing(
			userID,
		);
		const followersCount: number &#x3D; followers.length;
		const followingCount: number &#x3D; following.length;

		const users: PrismaTypes.users[] &#x3D; await this.prisma.users.findMany();
		const userCount: number &#x3D; users.length;
		const popularity: number &#x3D;
			(followersCount / (followingCount + 1)) * Math.log(userCount);
		console.log(&quot;Popularity for user &quot; + userID + &quot;: &quot; + popularity);
		return popularity;
	}

	async calculateActivity(user: PrismaTypes.users): Promise&lt;number&gt; {
		const rooms: RoomDto[] &#x3D; await this.getUserRooms(user.user_id);

		const friends: PrismaTypes.users[] &#x3D; await this.dbUtils.getUserFriends(
			user.user_id,
		);

		if (!friends) {
			throw new Error(&quot;Failed to calculate activity (no friends)&quot;);
		}

		const bookmarks: RoomDto[] &#x3D; await this.getBookmarks(user.username);
		const date30DaysAgo: Date &#x3D; new Date();
		date30DaysAgo.setDate(date30DaysAgo.getDate() - 30);
		const messages: PrismaTypes.message[] &#x3D; await this.prisma.message.findMany({
			where: { sender: user.user_id, date_sent: { gte: date30DaysAgo } },
		});
		const roomMessages: PrismaTypes.room_message[] &#x3D;
			await this.prisma.room_message.findMany({
				where: {
					message_id: { in: messages.map((message) &#x3D;&gt; message.message_id) },
				},
			});
		const activity: number &#x3D;
			rooms.length +
			friends.length +
			bookmarks.length +
			messages.length +
			roomMessages.length;
		return activity;
	}

	async calculateGenreSimilarity(
		userID1: string,
		userID2: string,
	): Promise&lt;number&gt; {
		const user1: PrismaTypes.favorite_genres[] &#x3D;
			await this.prisma.favorite_genres.findMany({
				where: { user_id: userID1 },
			});
		const user2: PrismaTypes.favorite_genres[] &#x3D;
			await this.prisma.favorite_genres.findMany({
				where: { user_id: userID2 },
			});

		const user1Genres: string[] &#x3D; user1.map(
			(genre: PrismaTypes.favorite_genres) &#x3D;&gt; genre.genre_id,
		);
		const user2Genres: string[] &#x3D; user2.map(
			(genre: PrismaTypes.favorite_genres) &#x3D;&gt; genre.genre_id,
		);
		const commonGenres: string[] &#x3D; user1Genres.filter((genre) &#x3D;&gt;
			user2Genres.includes(genre),
		);
		const genreSimilarity: number &#x3D;
			(commonGenres.length / (user1Genres.length + user2Genres.length)) * 100;
		console.log(
			&quot;Genre similarity between &quot; + userID1 + &quot; and &quot; + userID2 + &quot;: &quot;,
			genreSimilarity,
		);
		return Number.isNaN(genreSimilarity) ? 0 : genreSimilarity;
	}
}
</code></pre>
    </div>

</div>













                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'UsersService.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script>
               $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               checkToggle(darkModeState);
               if ($darkModeToggleSwitchers.length > 0) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].addEventListener('change', function (event) {
                              darkModeState = !darkModeState;
                              toggleDarkMode(darkModeState);
                         });
                    }
               }
          </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
